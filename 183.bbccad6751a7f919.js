"use strict";(self.webpackChunkegret_angular_latest_test=self.webpackChunkegret_angular_latest_test||[]).push([[183],{73183:(Mt,D,s)=>{s.r(D),s.d(D,{AcceuilModule:()=>wt});var d=s(96814),A=s(35420),t=s(65879),E=s(6593),w=s(52675),c=s(25313),h=s(21476),f=s(13566),p=s(19347),g=s(79566);class k{constructor(a,e){this._document=e;const i=this._textarea=this._document.createElement("textarea"),n=i.style;n.position="fixed",n.top=n.opacity="0",n.left="-999em",i.setAttribute("aria-hidden","true"),i.value=a,i.readOnly=!0,this._document.body.appendChild(i)}copy(){const a=this._textarea;let e=!1;try{if(a){const i=this._document.activeElement;a.select(),a.setSelectionRange(0,a.value.length),e=this._document.execCommand("copy"),i&&i.focus()}}catch{}return e}destroy(){const a=this._textarea;a&&(a.remove(),this._textarea=void 0)}}let M=(()=>{class o{constructor(e){this._document=e}copy(e){const i=this.beginCopy(e),n=i.copy();return i.destroy(),n}beginCopy(e){return new k(e,this._document)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(d.K0))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var y=s(22939),C=s(30617),m=s(32296),v=s(22557),T=s(81274);function R(o,a){if(1&o&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Oqu(e)}}function J(o,a){if(1&o&&(t.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12),t._uU(4,"Titre:"),t.qZA(),t.TgZ(5,"div",13),t._uU(6),t.qZA()(),t.TgZ(7,"div",11)(8,"div",12),t._uU(9,"Date Debut:"),t.qZA(),t.TgZ(10,"div",13),t._uU(11),t.ALo(12,"date"),t.qZA()(),t.TgZ(13,"div",11)(14,"div",12),t._uU(15,"Date Fin:"),t.qZA(),t.TgZ(16,"div",13),t._uU(17),t.ALo(18,"date"),t.qZA()(),t.TgZ(19,"div",11)(20,"div",12),t._uU(21,"Status:"),t.qZA(),t.TgZ(22,"div",13)(23,"mat-chip",14),t._uU(24),t.qZA()()(),t.TgZ(25,"div",11)(26,"div",12),t._uU(27,"Duree:"),t.qZA(),t.TgZ(28,"div",13),t._uU(29),t.qZA()(),t.TgZ(30,"div",11)(31,"div",12),t._uU(32,"Description:"),t.qZA(),t.TgZ(33,"div",13),t.YNc(34,R,2,1,"p",15),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(6),t.Oqu(e.tacheData.title),t.xp6(5),t.Oqu(t.xi3(12,7,e.tacheData.dateDebut,"d MMMM y")),t.xp6(6),t.Oqu(t.xi3(18,10,e.tacheData.dateFin,"d MMMM y")),t.xp6(6),t.Q6J("color",e.getStatusColor(e.tacheData.status)),t.xp6(1),t.hij(" ","EN_COURS"===e.tacheData.status?"En cours":"Ferm\xe9"," "),t.xp6(5),t.Oqu(e.tacheData.duree),t.xp6(5),t.Q6J("ngForOf",e.tacheData.description.split("\n"))}}let Q=(()=>{class o{constructor(e,i,n,r,u){this.dialogRef=e,this.data=i,this.acceuilservice=n,this.clipboard=r,this.snack=u,this.fetchTacheById(i.idtache)}fetchTacheById(e){return this.acceuilservice.gettachebyid(e).subscribe(i=>{this.tacheData=i},i=>{console.error("Error fetching tache data:",i)})}closeDialog(){this.dialogRef.close()}copyToClipboard(){const e=this.constructClipboardContent();this.clipboard.copy(e),this.snack.open("Contenu copi\xe9","OK",{duration:4e3})}constructClipboardContent(){return[`Titre: ${this.tacheData.title}`,`Date Debut: ${(0,d.p6)(this.tacheData.dateDebut,"d MMMM y","fr")}`,`Date Fin: ${(0,d.p6)(this.tacheData.dateFin,"d MMMM y","fr")}`,"Status: "+("EN_COURS"===this.tacheData.status?"En cours":"Termin\xe9"),`Duree:\n${this.tacheData.duree}`,`Description:\n${this.tacheData.description}`].join("\n\n")}getStatusColor(e){return"EN_COURS"===e?"primary":"accent"}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.so),t.Y36(p.WI),t.Y36(g.b),t.Y36(M),t.Y36(y.ux))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-viewtachepopup"]],decls:16,vars:1,consts:[[1,"event-dialog-wrapper"],[1,"mat-primary","m-0"],[1,"flex","justify-between","items-center","w-full","py-2"],[1,"title","dialog-title"],[1,"flex-grow"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions",""],["mat-button","","color","primary",3,"click"],["mat-dialog-content",""],[1,"task-details"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],["highlighted","","mat-sm-chip","",3,"color"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"span",3)(4,"strong"),t._uU(5,"Les Details de La Tache"),t.qZA()(),t._UZ(6,"span",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return i.closeDialog()}),t.TgZ(8,"mat-icon"),t._uU(9,"close"),t.qZA()()()(),t.YNc(10,J,35,13,"div",6),t.TgZ(11,"div",7)(12,"button",8),t.NdJ("click",function(){return i.copyToClipboard()}),t.TgZ(13,"mat-icon"),t._uU(14,"content_copy"),t.qZA(),t._uU(15," Copier presse-papier "),t.qZA()()()),2&e&&(t.xp6(10),t.Q6J("ngIf",i.tacheData))},dependencies:[d.sg,d.O5,C.Hw,m.lW,m.RK,v.HS,p.xY,p.H8,T.Ye,d.uU],styles:[".task-details[_ngcontent-%COMP%]{margin:10px 0}.detail-item[_ngcontent-%COMP%]{display:flex;margin-bottom:8px}.detail-label[_ngcontent-%COMP%]{flex:1;font-weight:700;color:#555}.detail-value[_ngcontent-%COMP%]{flex:2}"]}),o})();var l=s(56223),L=s(13519),b=s.n(L),U=s(24516),Z=s(64170),_=s(38034),q=s(98525),O=s(23680),I=s(71365);function H(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"form",9),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.submit())}),t.TgZ(1,"div",10)(2,"fieldset",11)(3,"div",12)(4,"mat-form-field",13)(5,"mat-label"),t._uU(6,"Titre de la tache"),t.qZA(),t._UZ(7,"input",14),t.qZA()(),t.TgZ(8,"div",12)(9,"mat-form-field")(10,"mat-label"),t._uU(11,"Debut - fin de la tache"),t.qZA(),t.TgZ(12,"mat-date-range-input",15),t._UZ(13,"input",16)(14,"input",17),t.qZA(),t.TgZ(15,"mat-hint"),t._uU(16,"MM/DD/YYYY \u2013 MM/DD/YYYY"),t.qZA(),t._UZ(17,"mat-datepicker-toggle",18)(18,"mat-date-range-picker",19,20),t.qZA()()(),t.TgZ(20,"fieldset",11)(21,"div",12)(22,"mat-form-field")(23,"mat-label"),t._uU(24,"Duree"),t.qZA(),t.TgZ(25,"div",21)(26,"input",22),t.NdJ("ngModelChange",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.updateDuration())}),t.qZA(),t.TgZ(27,"span",23),t._uU(28,"h"),t.qZA(),t.TgZ(29,"span",24),t._uU(30,":"),t.qZA(),t.TgZ(31,"input",25),t.NdJ("ngModelChange",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.updateDuration())}),t.qZA(),t.TgZ(32,"span",23),t._uU(33,"min"),t.qZA()()()(),t.TgZ(34,"div",12)(35,"mat-form-field")(36,"mat-label"),t._uU(37,"Status"),t.qZA(),t.TgZ(38,"mat-select",26)(39,"mat-option",27),t._uU(40,"Termin\xe9"),t.qZA(),t.TgZ(41,"mat-option",28),t._uU(42,"En Cours"),t.qZA()()()()(),t.TgZ(43,"div",29)(44,"mat-form-field",13)(45,"mat-label"),t._uU(46,"Description:"),t.qZA(),t._UZ(47,"textarea",30),t.qZA()(),t.TgZ(48,"div",31)(49,"button",32),t._uU(50),t.ALo(51,"translate"),t.qZA(),t._UZ(52,"span",4),t.TgZ(53,"button",33),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.dialogRef.close(!1))}),t._uU(54,"Annuler"),t.qZA()()()()}if(2&o){const e=t.MAs(19),i=t.oxw();t.Q6J("formGroup",i.itemForm),t.xp6(7),t.Q6J("formControl",i.itemForm.controls.title),t.xp6(5),t.Q6J("rangePicker",e),t.xp6(5),t.Q6J("for",e),t.xp6(21),t.Q6J("formControl",i.itemForm.controls.status),t.xp6(9),t.Q6J("formControl",i.itemForm.controls.description),t.xp6(2),t.Q6J("disabled",i.itemForm.invalid),t.xp6(1),t.Oqu(t.lcZ(51,8,"Sauvgarder"))}}let V=(()=>{class o{constructor(e,i,n,r,u){this.data=e,this.dialogRef=i,this.fb=n,this.acceuilservice=r,this.datePipe=u,this.hours=0,this.minutes=0}ngOnInit(){this.fetchTask(this.data.idtache),this.buildItemForm(this.data.payload)}buildItemForm(e){if(e&&e.dateDebut&&e.dateFin){const i=e.dateDebut?this.datePipe.transform(e.dateDebut,"yyyy-MM-ddT00:00:00"):"",n=e.dateFin?this.datePipe.transform(e.dateFin,"yyyy-MM-ddT00:00:00"):"";this.itemForm=this.fb.group({title:[e.title||"",l.kI.required],dateDebut:[i||"",l.kI.required],dateFin:[n||"",l.kI.required],status:[e.status||"",l.kI.required],description:[e.description||""],hours:[0],minutes:[0],duree:[e.duree||"",l.kI.required]}),this.extractHoursAndMinutes(e.duree)}}submit(){console.log(this.itemForm.value),this.acceuilservice.updateTache(this.data.idtache,this.itemForm.value).subscribe(e=>{b().fire({title:"T\xe2che modifi\xe9e avec succ\xe8s!",text:"La t\xe2che a \xe9t\xe9 modifi\xe9e avec succ\xe8s.",icon:"success",confirmButtonText:"D'accord"}),this.dialogRef.close(e)})}fetchTask(e){this.acceuilservice.gettachebyid(e).subscribe(i=>{i.dateDebut=new Date(i.dateDebut),i.dateFin=new Date(i.dateFin),this.buildItemForm(i),this.extractHoursAndMinutes(i.duree)},i=>{console.error("Error fetching task:",i)})}updateDuration(){const i=this.itemForm.controls.minutes.value||0,n=`${this.padZero(this.itemForm.controls.hours.value||0)}h:${this.padZero(i)}min`;this.itemForm.controls.duree.setValue(n)}padZero(e){return e.toString().padStart(2,"0")}extractHoursAndMinutes(e){const[i,n]=e.split(":");this.hours=parseInt(i,10),this.minutes=parseInt(n,10),this.itemForm.controls.hours.setValue(this.padZero(this.hours)),this.itemForm.controls.minutes.setValue(this.padZero(this.minutes))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.WI),t.Y36(p.so),t.Y36(l.qu),t.Y36(g.b),t.Y36(d.uU))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-edittachepopup"]],decls:13,vars:1,consts:[[1,"event-dialog-wrapper"],[1,"mat-primary","m-0"],[1,"flex","justify-between","items-center","w-full","py-2"],[1,"title","dialog-title"],[1,"flex-grow"],["mat-icon-button","","aria-label","Close dialog",3,"click"],[1,"p-4"],[1,"text-lg","mb-4"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"flex","flex-wrap","flex-col","md:flex-row"],[1,"w-full","md:w-1/2","pr-16"],[1,"mb-4"],[1,"full-width"],["matInput","","name","title","placeholder","title",3,"formControl"],[3,"rangePicker"],["matStartDate","","placeholder","Start date","formControlName","dateDebut"],["matEndDate","","placeholder","End date","formControlName","dateFin"],["matIconSuffix","",3,"for"],[1,"date-picker-dropdown"],["Tachedebutfinpicker",""],[1,"duree-input"],["matInput","","type","number","name","hours","formControlName","hours","min","0","max","999","step","1",3,"ngModelChange"],[1,"unit-label"],[1,"separator"],["matInput","","type","number","name","minutes","formControlName","minutes","min","0","max","59","step","1",3,"ngModelChange"],["name","status","placeholder","Status",3,"formControl"],["value","TERMINE"],["value","EN_COURS"],[1,"flex","w-full"],["matInput","","name","description","placeholder","description",3,"formControl"],[1,"flex","w-full","mt-4"],["mat-raised-button","","color","primary",3,"disabled"],["mat-button","","color","warn","type","button",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"span",3)(4,"strong"),t._uU(5,"Modifier la Tache"),t.qZA()(),t._UZ(6,"span",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return i.dialogRef.close(!1)}),t.TgZ(8,"mat-icon"),t._uU(9,"close"),t.qZA()()()(),t.TgZ(10,"div",6),t._UZ(11,"h1",7),t.YNc(12,H,55,10,"form",8),t.qZA()()),2&e&&(t.xp6(12),t.Q6J("ngIf",i.itemForm))},dependencies:[d.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.qQ,l.Fd,U.Nt,Z.KE,Z.hX,Z.bx,Z.R9,C.Hw,m.lW,m.RK,l.oH,l.sg,l.u,_.nW,_.wx,_.zY,_.By,_._g,q.gD,O.ey,T.Ye,I.X$],styles:[".duree-input[_ngcontent-%COMP%]{display:flex;align-items:center}.separator[_ngcontent-%COMP%]{margin:0 5px}.unit-label[_ngcontent-%COMP%]{margin-left:2px;font-weight:400}.mat-datepicker-content[_ngcontent-%COMP%]{transform:translateY(calc(100% + 10px))}"]}),o})();var G=s(79369),x=s(95195);function j(o,a){1&o&&(t.TgZ(0,"mat-header-cell",18),t._uU(1,"Titre"),t.qZA())}function B(o,a){if(1&o&&(t.TgZ(0,"mat-cell",19)(1,"mat-icon",20),t._uU(2,"assignment"),t.qZA(),t._uU(3),t.qZA()),2&o){const e=a.$implicit,i=t.oxw();t.xp6(1),t.Q6J("color",i.getStatusColor(e.status)),t.xp6(2),t.hij(" \xa0",e.title," ")}}function $(o,a){1&o&&(t.TgZ(0,"mat-header-cell",18),t._uU(1," Status "),t.qZA())}function K(o,a){if(1&o&&(t.TgZ(0,"mat-cell",21)(1,"mat-chip",22),t._uU(2),t.qZA()()),2&o){const e=a.$implicit,i=t.oxw();t.Udp("color",e.color),t.xp6(1),t.Q6J("color",i.getStatusColor(e.status)),t.xp6(1),t.hij(" ","EN_COURS"===e.status?"En cours":"Termin\xe9"," ")}}function W(o,a){1&o&&(t.TgZ(0,"mat-header-cell",18),t._uU(1," Description "),t.qZA())}function X(o,a){if(1&o&&(t.TgZ(0,"mat-cell",23),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Udp("color",e.color),t.xp6(1),t.hij(" ",e.description," ")}}function z(o,a){1&o&&(t.TgZ(0,"mat-header-cell",24),t._uU(1," Action "),t.qZA())}function tt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-cell",25)(1,"div",26)(2,"button",27),t.NdJ("click",function(){const r=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.deleteItem(null==r?null:r.idTache))}),t.TgZ(3,"mat-icon"),t._uU(4,"delete"),t.qZA()(),t.TgZ(5,"button",28),t.NdJ("click",function(){const r=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.openEditTachePopup(null==r?null:r.idTache))}),t.TgZ(6,"mat-icon",29),t._uU(7,"edit"),t.qZA()(),t.TgZ(8,"button",30),t.NdJ("click",function(){const r=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.openViewTachePopup(null==r?null:r.idTache))}),t.TgZ(9,"mat-icon"),t._uU(10,"visibility"),t.qZA()()()()}}function et(o,a){1&o&&t._UZ(0,"mat-header-row")}function ot(o,a){1&o&&t._UZ(0,"mat-row")}const S=function(){return{y:"50px",delay:"300ms"}},Y=function(o){return{value:"*",params:o}},it=function(){return[5,10]};let at=(()=>{class o{constructor(e,i,n,r){this.acceuilservice=e,this.matPaginatorIntl=i,this.dialog=n,this.tacheservice=r,this.tacheservice.tacheAdded$.subscribe(()=>{this.GetTachesItems()})}ngOnInit(){this.TachesdisplayedColumns=this.getTachesDisplayedColums(),this.GetTachesItems(),this.matPaginatorIntl.itemsPerPageLabel="\xc9l\xe9ments par page",this.matPaginatorIntl.nextPageLabel="Page suivante",this.matPaginatorIntl.previousPageLabel="Page pr\xe9c\xe9dente"}ngOnDestroy(){this.GetTachesItemsSub&&this.GetTachesItemsSub.unsubscribe()}getTachesDisplayedColums(){return["title","status","actions"]}GetTachesItems(){this.GetTachesItemsSub=this.acceuilservice.gettachesdujours().subscribe(e=>{this.dataSource=new c.by(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}openViewTachePopup(e){this.dialog.open(Q,{width:"600px",disableClose:!1,data:{idtache:e}}).afterClosed().subscribe(()=>{})}openEditTachePopup(e){this.dialog.open(V,{width:"720px",disableClose:!1,data:{idtache:e}}).afterClosed().subscribe(n=>{n&&this.GetTachesItems()})}deleteItem(e){b().fire({title:"\xcates-vous s\xfbr(e) ?",text:"Vous ne pourrez pas r\xe9cup\xe9rer cette t\xe2che !",icon:"warning",showCancelButton:!0,confirmButtonText:"Oui, supprimer !",cancelButtonText:"Non, annuler",reverseButtons:!0}).then(i=>{i.isConfirmed&&this.acceuilservice.deleteTache(e).subscribe(()=>{b().fire("Supprim\xe9 !","Votre t\xe2che a \xe9t\xe9 supprim\xe9e.","success"),this.GetTachesItems()},n=>{b().fire("Erreur !","Une erreur s'est produite lors de la suppression de la t\xe2che.","error")})})}getStatusColor(e){return"ACTIVE"===e?"accent":"EN_COURS"===e?"primary":"accent"}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g.b),t.Y36(h.ye),t.Y36(p.uw),t.Y36(G.i))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-listetaches"]],viewQuery:function(e,i){if(1&e&&(t.Gf(h.NW,5),t.Gf(f.YE,5)),2&e){let n;t.iGM(n=t.CRH())&&(i.paginator=n.first),t.iGM(n=t.CRH())&&(i.sort=n.first)}},decls:22,vars:13,consts:[[1,"m-3","flex","flex-col","md:flex-row","justify-between"],[1,"info-card","primary","flex-grow","flex","justify-center","items-center"],[1,"description","text-center"],[1,"p-0"],["matSort","",1,"table-dark",3,"dataSource"],["matColumnDef","title"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","title","class","align-center",4,"matCellDef"],["matColumnDef","status"],["data-label","status","data-label","color",3,"color",4,"matCellDef"],["matColumnDef","Description"],["data-label","color",3,"color",4,"matCellDef"],["matColumnDef","actions"],["mat-sort-header","","class","text-center",4,"matHeaderCellDef"],["class","text-center",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-sort-header",""],["data-label","title",1,"align-center"],[3,"color"],["data-label","status","data-label","color"],["highlighted","","mat-sm-chip","",3,"color"],["data-label","color"],["mat-sort-header","",1,"text-center"],[1,"text-center"],[1,"d-flex","justify-center","align-center"],["mat-icon-button","","mat-sm-button","","color","warn",3,"click"],["mat-icon-button","","mat-sm-button","","color","green",3,"click"],[2,"color","green"],["mat-icon-button","","mat-sm-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3," Liste des taches d'Aujourd'hui "),t.qZA()()(),t.TgZ(4,"mat-card",3)(5,"mat-card-content",3)(6,"mat-table",4),t.ynx(7,5),t.YNc(8,j,2,0,"mat-header-cell",6),t.YNc(9,B,4,2,"mat-cell",7),t.BQk(),t.ynx(10,8),t.YNc(11,$,2,0,"mat-header-cell",6),t.YNc(12,K,3,4,"mat-cell",9),t.BQk(),t.ynx(13,10),t.YNc(14,W,2,0,"mat-header-cell",6),t.YNc(15,X,2,3,"mat-cell",11),t.BQk(),t.ynx(16,12),t.YNc(17,z,2,0,"mat-header-cell",13),t.YNc(18,tt,11,0,"mat-cell",14),t.BQk(),t.YNc(19,et,1,0,"mat-header-row",15),t.YNc(20,ot,1,0,"mat-row",16),t.qZA(),t._UZ(21,"mat-paginator",17),t.qZA()()),2&e&&(t.Q6J("@animate",t.VKq(7,Y,t.DdM(6,S))),t.xp6(4),t.Q6J("@animate",t.VKq(10,Y,t.DdM(9,S))),t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",i.TachesdisplayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.TachesdisplayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(12,it)))},dependencies:[x.a8,x.dn,C.Hw,m.RK,v.HS,h.NW,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,f.YE,f.nU],styles:[".d-flex[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@media (max-width: 400px){.d-flex[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}"],data:{animation:w.H}}),o})();function nt(o,a){if(1&o&&(t.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12),t._uU(4,"Numero Dossier:"),t.qZA(),t.TgZ(5,"div",13),t._uU(6),t.qZA()(),t.TgZ(7,"div",11)(8,"div",12),t._uU(9,"Date Inscription:"),t.qZA(),t.TgZ(10,"div",13),t._uU(11),t.ALo(12,"date"),t.qZA()(),t.TgZ(13,"div",11)(14,"div",12),t._uU(15,"Date Ouverture:"),t.qZA(),t.TgZ(16,"div",13),t._uU(17),t.ALo(18,"date"),t.qZA()(),t.TgZ(19,"div",11)(20,"div",12),t._uU(21,"Date Fermeture:"),t.qZA(),t.TgZ(22,"div",13),t._uU(23),t.ALo(24,"date"),t.qZA()(),t.TgZ(25,"div",11)(26,"div",12),t._uU(27,"Status:"),t.qZA(),t.TgZ(28,"div",13)(29,"mat-chip",14),t._uU(30),t.qZA()()()()()),2&o){const e=t.oxw();t.xp6(6),t.Oqu(e.dossierData.numDossier),t.xp6(5),t.Oqu(t.xi3(12,6,e.dossierData.dateInscription,"d MMMM y")),t.xp6(6),t.Oqu(t.xi3(18,9,e.dossierData.dateOuverture,"d MMMM y")),t.xp6(6),t.Oqu(t.xi3(24,12,e.dossierData.dateFermeture,"medium")),t.xp6(6),t.Q6J("color",e.getStatusColor(e.dossierData.status)),t.xp6(1),t.hij(" ","OUVERT"===e.dossierData.status?"ouvert":"Ferm\xe9"," ")}}let st=(()=>{class o{constructor(e,i,n,r,u){this.dialogRef=e,this.data=i,this.acceuilservice=n,this.clipboard=r,this.snack=u,this.fetchdossierbyid(i.iddossier)}fetchdossierbyid(e){return this.acceuilservice.fetchdossierbyid(e).subscribe(i=>{console.log("Dossier",i),this.dossierData=i},i=>{console.error("Error fetching tache data:",i)})}closeDialog(){this.dialogRef.close()}getStatusColor(e){return"OUVERT"===e?"primary":"accent"}copyToClipboard(){const e=this.constructClipboardContent();this.clipboard.copy(e),this.snack.open("Contenu copi\xe9","OK",{duration:4e3})}constructClipboardContent(){const e=`Date Fermeture: ${(0,d.p6)(this.dossierData.dateFermeture,"medium","fr")}`;return[`Num Dossier: ${this.dossierData.numDossier}`,e,`Date ouverture: ${(0,d.p6)(this.dossierData.dateOuverture,"d MMMM y","fr")}`,`status: ${this.dossierData.status}`,`Date d'inscription: ${(0,d.p6)(this.dossierData.dateInscription,"d MMMM y","fr")}`].join("\n\n")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.so),t.Y36(p.WI),t.Y36(g.b),t.Y36(M),t.Y36(y.ux))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-viewdossierpopup"]],decls:16,vars:1,consts:[[1,"event-dialog-wrapper"],[1,"mat-primary","m-0"],[1,"flex","justify-between","items-center","w-full","py-2"],[1,"title","dialog-title"],[1,"flex-grow"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions",""],["mat-button","","color","primary",3,"click"],["mat-dialog-content",""],[1,"task-details"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],["highlighted","","mat-sm-chip","",3,"color"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"span",3)(4,"strong"),t._uU(5,"Les Details du dossier"),t.qZA()(),t._UZ(6,"span",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return i.closeDialog()}),t.TgZ(8,"mat-icon"),t._uU(9,"close"),t.qZA()()()(),t.YNc(10,nt,31,15,"div",6),t.TgZ(11,"div",7)(12,"button",8),t.NdJ("click",function(){return i.copyToClipboard()}),t.TgZ(13,"mat-icon"),t._uU(14,"content_copy"),t.qZA(),t._uU(15,"Copier presse-papier"),t.qZA()()()),2&e&&(t.xp6(10),t.Q6J("ngIf",i.dossierData))},dependencies:[d.O5,C.Hw,m.lW,m.RK,v.HS,p.xY,p.H8,T.Ye,d.uU],styles:[".task-details[_ngcontent-%COMP%]{margin:10px 0}.detail-item[_ngcontent-%COMP%]{display:flex;margin-bottom:8px}.detail-label[_ngcontent-%COMP%]{flex:1;font-weight:700;color:#555}.detail-value[_ngcontent-%COMP%]{flex:2}"]}),o})();function rt(o,a){1&o&&(t.TgZ(0,"mat-header-cell",16),t._uU(1,"NumeroDossier"),t.qZA())}function ct(o,a){if(1&o&&(t.TgZ(0,"mat-cell",17)(1,"mat-icon",18),t._uU(2,"folder_shared"),t.qZA(),t._uU(3),t.qZA()),2&o){const e=a.$implicit,i=t.oxw();t.xp6(1),t.Q6J("color",i.getStatusColor(e.status)),t.xp6(2),t.hij(" \xa0",e.numDossier," ")}}function lt(o,a){1&o&&(t.TgZ(0,"mat-header-cell",16),t._uU(1," Status "),t.qZA())}function ut(o,a){if(1&o&&(t.TgZ(0,"mat-cell",19)(1,"mat-chip",20),t._uU(2),t.qZA()()),2&o){const e=a.$implicit,i=t.oxw();t.xp6(1),t.Q6J("color",i.getStatusColor(e.status)),t.xp6(1),t.hij(" ","OUVERT"===e.status?"ouvert":"Ferm\xe9"," ")}}function dt(o,a){1&o&&(t.TgZ(0,"mat-header-cell",21),t._uU(1," Action "),t.qZA())}function pt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-cell",22)(1,"div",23)(2,"button",24),t.NdJ("click",function(){const r=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.openViewTachePopup(null==r?null:r.numDossier))}),t.TgZ(3,"mat-icon"),t._uU(4,"visibility"),t.qZA()()()()}}function mt(o,a){1&o&&t._UZ(0,"mat-header-row")}function ht(o,a){1&o&&t._UZ(0,"mat-row")}const F=function(){return{y:"50px",delay:"300ms"}},N=function(o){return{value:"*",params:o}},ft=function(){return[5]};let gt=(()=>{class o{constructor(e,i,n){this.acceuilservice=e,this.matPaginatorIntl=i,this.dialog=n}ngOnInit(){this.DossierdisplayedColumns=this.getDossiersDisplayedColums(),this.GetDossierItems(),this.matPaginatorIntl.itemsPerPageLabel="\xc9l\xe9ments par page",this.matPaginatorIntl.nextPageLabel="Page suivante",this.matPaginatorIntl.previousPageLabel="Page pr\xe9c\xe9dente"}ngOnDestroy(){this.GetDossiersItemsSub&&this.GetDossiersItemsSub.unsubscribe()}getDossiersDisplayedColums(){return["numDossier","status","actions"]}GetDossierItems(){this.GetDossiersItemsSub=this.acceuilservice.getLatest5OpenedDossiers().subscribe(e=>{console.log("Received data:",e),this.dataSource=new c.by(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}getStatusColor(e){return"ACTIVE"===e?"warn":"OUVERT"===e?"primary":"accent"}openViewTachePopup(e){this.dialog.open(st,{width:"600px",disableClose:!1,data:{iddossier:e}}).afterClosed().subscribe(()=>{})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g.b),t.Y36(h.ye),t.Y36(p.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cinqdossiersouverts"]],viewQuery:function(e,i){if(1&e&&(t.Gf(h.NW,5),t.Gf(f.YE,5)),2&e){let n;t.iGM(n=t.CRH())&&(i.paginator=n.first),t.iGM(n=t.CRH())&&(i.sort=n.first)}},decls:19,vars:13,consts:[[1,"m-3","flex","flex-col","md:flex-row","justify-between"],[1,"info-card","primary","flex-grow","flex","justify-center","items-center"],[1,"description","text-center"],[1,"p-0"],["matSort","",1,"table-dark",3,"dataSource"],["matColumnDef","numDossier"],["mat-sort-header","",4,"matHeaderCellDef"],["data-label","numDossier","class","align-center",4,"matCellDef"],["matColumnDef","status"],["data-label","color",4,"matCellDef"],["matColumnDef","actions"],["mat-sort-header","","class","text-center",4,"matHeaderCellDef"],["class","text-center",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-sort-header",""],["data-label","numDossier",1,"align-center"],[3,"color"],["data-label","color"],["highlighted","","mat-sm-chip","",3,"color"],["mat-sort-header","",1,"text-center"],[1,"text-center"],[1,"d-flex","justify-center","align-center"],["mat-icon-button","","mat-sm-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3," Dossiers ouverts r\xe9cements "),t.qZA()()(),t.TgZ(4,"mat-card",3)(5,"mat-card-content",3)(6,"mat-table",4),t.ynx(7,5),t.YNc(8,rt,2,0,"mat-header-cell",6),t.YNc(9,ct,4,2,"mat-cell",7),t.BQk(),t.ynx(10,8),t.YNc(11,lt,2,0,"mat-header-cell",6),t.YNc(12,ut,3,2,"mat-cell",9),t.BQk(),t.ynx(13,10),t.YNc(14,dt,2,0,"mat-header-cell",11),t.YNc(15,pt,5,0,"mat-cell",12),t.BQk(),t.YNc(16,mt,1,0,"mat-header-row",13),t.YNc(17,ht,1,0,"mat-row",14),t.qZA(),t._UZ(18,"mat-paginator",15),t.qZA()()),2&e&&(t.Q6J("@animate",t.VKq(7,N,t.DdM(6,F))),t.xp6(4),t.Q6J("@animate",t.VKq(10,N,t.DdM(9,F))),t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",i.DossierdisplayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.DossierdisplayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(12,ft)))},dependencies:[x.a8,x.dn,C.Hw,m.RK,v.HS,h.NW,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,f.YE,f.nU],styles:[".align-center[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-primary[_ngcontent-%COMP%]{color:primary}.icon-warn[_ngcontent-%COMP%]{color:warn}"],data:{animation:w.H}}),o})();const vt=[{path:"Acceuil",component:(()=>{class o{constructor(e){this.titleService=e}ngOnInit(){this.titleService.setTitle("Curiam | Acceuil")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(E.Dx))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-acceuil"]],decls:6,vars:0,consts:[[1,"flex","flex-col","md:flex-row"],[1,"w-full","md:w-1/2",2,"margin-left","50px","margin-right","50px"],[1,"w-full","md:w-1/2",2,"margin-right","50px"],[1,"w-full"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-listetaches"),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"app-cinqdossiersouverts"),t.qZA()(),t._UZ(5,"div",3))},dependencies:[at,gt],styles:["@media (max-width: 600px){.flex{flex-direction:column}}\n"],encapsulation:2}),o})(),pathMatch:"full"},{path:"ajoutertache",component:s(54784).Q,pathMatch:"full"}];let xt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[A.Bz.forChild(vt),A.Bz]}),o})();var Tt=s(59038),bt=s(77988),Zt=s(82599),yt=s(92596),Dt=s(25152),At=s(73445);let wt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[g.b,d.uU,{provide:O.Ad,useValue:"fr-FR"},{provide:At.o8,useValue:{useUtc:!0}},{provide:p.WI,useValue:{}},{provide:p.so,useValue:{}}],imports:[d.ez,xt,x.QW,l.u5,U.c,C.Ps,bt.Tx,m.ot,v.Hi,Tt.ie,h.TU,yt.AV,c.p0,p.Is,y.ZX,Zt.rP,I.aw,Dt.m,l.UX,_.FA,q.LD,f.JX,T.g0]}),o})()}}]);